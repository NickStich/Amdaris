<div class="mainbox">
    <form (ngSubmit)="onSubmit()" #invoiceForm="ngForm">

    <div>
        <h3 class="ThirdPartyPerson">Customer</h3>

        <!-- <select (change)="searchCountry(selectedCountry)" [(ngModel)]="selectedCountry" title="Selecciona un país"> -->
        <select  [(ngModel)]="selectedCountry" title="Selecciona un país" name="select">
            <option *ngFor="let tpp of thirdPartyPersons">{{tpp.name}}</option>
        </select>
        <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

    </div>

    <h1 class="invoice">Invoice</h1>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let field of fieldArray; let i = index">
                <td>
                    <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" />
                </td>
                <td>
                    <input [(ngModel)]="field.name" class="form-control" type="text" name="{{field.name}}" />
                </td>
                <td>
                    <input [(ngModel)]="field.price" class="form-control" type="text" name="{{field.price}}" />
                </td>
                <td>
                    <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)"> - </button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code"
                        name="newAttributeCode" />
                </td>
                <td>
                    <input class="form-control" type="text" id="newAttributeName" [(ngModel)]="newAttribute.name"
                        name="newAttributeName" />
                </td>
                <td>
                    <input class="form-control" type="text" id="newAttributePrice" [(ngModel)]="newAttribute.price"
                        name="newAttributePrice" />
                </td>
                <td>
                    <button class="btn btn-default" type="button" (click)="addFieldValue()"> + </button>
                </td>
            </tr>
        </tbody>
    </table>
    <button type="submit" [disabled]="!invoiceForm.form.valid" 
        class="btn btn-info">Save</button>
    </form>
</div>